<!DOCTYPE html>


<html>
    <head>
        <title>Sham Answers</title>
        <meta charset="utf-8">
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" ></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <link href="https://bootswatch.com/4/journal/bootstrap.min.css" rel="stylesheet" />
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css' integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>


        <script>
            var qString = {{ question['number'] }};
            var pString = "";
            pString += "post/" + qString;

            function loaded(){
                document.getElementById("post_page").innerHTML = pString;
            }
        </script>
    </head>
    <body>

            <!-- Creates the navigation bar, and references to respective pages-->
            <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #65037E;">
                <a class="navbar-brand" href="/main">Sham Answers</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarColor01">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="profile">My Profile</a>
                        </li>
                        <script>
                            {% if authorized %}
                            <li class="nav-item">
                                <a class="nav-link" href="admin">Admin</a>
                            </li>
                            {% endif %}
                        </script>
                        <li class="nav-item">
                            <a class="nav-link" href="logout">Logout</a>
                        </li>
                    </ul>
                </div>
                    <a style='font-size:24px' class='fab' href="https://github.com/mxj316/ShamAnswers">&#xf09b;</a>
            </nav>

            <div class="container">

                <br>
                <h1 align="center">   </h1>
                <hr/>

                </form>
                <form class="form" method="post">
                    <fieldset>
			<div class="row">
			    <div class="form-group col-md">
                                <input name="text" type="text" class="form-control" aria-label="Text input with segmented dropdown button">
			    </div>
                            <div class="form-group column">
			        <select class="custom-select my-1 mr-sm-2" id="inlineFormCustomSelectPref" name="categories">
				    <option value="humor"selected name=>Humor</option>
				    <option value="advice">Advice</option>
				    <option value="dating">Dating</option>
				    <option value="sports">Sports</option>
			            <option value="school">School</option>
			        </select>
                            <input name="submit" type="submit" value = "Post" class="btn btn-secondary"/>
                        </div>
                    </fieldset>
                </form>

                <form class="form-inline" method="post">
                    <label class="my-1 mr-2" for="inlineFormCustomSelectPref">Sort Questions</label>
                    <select class="custom-select my-1 mr-sm-2" id="inlineFormCustomSelectPref" name="sorting">
                        <option value="1"selected name=>By Date Posted</option>
                        <option value="2">Alphabetically</option>
                        <option value="3">By Author</option>
                        <option value="4">By Category</option>
			<option value="5">By Number of Comments</option>
                    </select>
                    <button type="submit" class="btn btn-secondary my-1">Sort</button>
                </form>
            </div>

            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th scope="col">Catagory</th>
                        <th scope="col">Post</th>
                        <th scope="col">Author</th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                        {% for question in posts %}
                            <tr>
                                <td>{{ question['category'] }}</td>
                                <td>{{ question['post'] }}</td>
                                <td>{{ question['author'] }}</td>
                                <td>
                                <form action="">
                                    <body onload = loaded()>
                                        <input type="submit" name="view_post" class="btn btn-secondary" value="Answer" href="post_page" role={{ question['number'] }}>
                                    </body>

                                </form>
                                </td>
                            </tr>
                        {% endfor %}

                    </tbody>
                </table>
            </div>


    </body>
</html>
